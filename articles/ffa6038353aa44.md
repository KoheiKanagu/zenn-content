---
title: "Apple ã‚·ãƒªã‚³ãƒ³æ­è¼‰ Mac ãªã‚‰ iOS å‘ã‘ SDK ã‚’ macOS ã§å‹•ã‹ã›ã‚‹ ~ Flutter ã‚’æ·»ãˆã¦ ~"
emoji: "ğŸ¥«"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [flutter, ios, mac, m1, google]
published: true
---

## ã¯ã˜ã‚ã«

Apple Silicon æ­è¼‰ã® Mac ã§ã¯ iOS ã‚¢ãƒ—ãƒªã‚’å‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™ãŒã€Flutter ã‚¢ãƒ—ãƒªã‚‚ä¾‹å¤–ã§ã¯ãªã„ã¯ãšã§ã™ã€‚

è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

## Xcode ã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•

Xcode ã‹ã‚‰ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã€ã‚¢ã‚¿ãƒƒãƒã—ã¦ã„ãã¾ã™ã€‚

:::message
`flutter run`ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ã ã¨ macOS ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã‚ˆã†ã¨ã—ã¦ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚
:::

`My Mac (Designed for  iPad)`ã«ãªã£ã¦ã„ã‚‹ã®ã‚’ç¢ºèªã—ã¦ Run ã—ã¾ã™ã€‚

![`My Mac (Designed for  iPad)`ã«ãªã£ã¦ã„ã‚‹ã®ã‚’ç¢ºèªã—ã¦Runã—ã¾ã—ã‚‡ã†](https://storage.googleapis.com/zenn-user-upload/7cfd913489e3-20230415.png)

ã„ã¤ã‚‚ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚
![ã„ã¤ã‚‚ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚¢ãƒ—ãƒª](https://storage.googleapis.com/zenn-user-upload/25becd42b991-20230415.png)

:::message
ã¡ãªã¿ã« run ã™ã‚‹åº¦ã«ä»¥ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`.app`ãŒä½œæˆã•ã‚Œã¦ã„ãã¾ã™ã€‚

`~/Library/Developer/Xcode/DerivedData/Runner-hoge/Build/Products/Debug-iphoneos/.XCInstall/`

`flutter create`ç›´å¾Œã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚¢ãƒ—ãƒªã§ã•ãˆ 120MB ã»ã©ã‚ã£ãŸã®ã§ã€`flutter clean`ãªã©ã§å®šæœŸçš„ã«å‰Šé™¤ã—ãŸæ–¹ãŒã„ã„ã¨æ€ã„ã¾ã™ã€‚
:::

Xcode ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã« ã‚¢ã‚¿ãƒƒãƒã«å¿…è¦ãª URL ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã“ã¡ã‚‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ã‚‡ã†ã€‚

![Xcodeã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«URLãŒã‚ã‚‹](https://storage.googleapis.com/zenn-user-upload/fd6a1b51f48f-20230415.png)

### VS Code ã®å ´åˆ

`Flutter: Attach to Flutter on Device`ã‚³ãƒãƒ³ãƒ‰ã§ã‚¢ã‚¿ãƒƒãƒã§ãã¾ã™ã€‚

å‚è€ƒ: [Debugging your add\-to\-app module \| Flutter](https://docs.flutter.dev/development/add-to-app/debugging#vs-code)

---

ã¾ãŸã¯ã€`.vscode/launch.json`ã«æ¬¡ã®ã‚ˆã†ã«è¿½è¨˜ã—ã¾ã—ã‚‡ã†ã€‚

```json:.vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "attach",
      "request": "attach",
      "type": "dart",
      "args": ["--app-id", "dev.kingu.iosAppRunOnMac"]
    }
  ]
}
```

`args`ã§`--app-id`ã®æŒ‡å®šã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€`attach`ã‚’ä½•åº¦ã‚‚å®Ÿè¡Œã—ã¦ã„ã‚‹ã¨æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

```log
There are multiple observatory ports available.
Rerun this command with one of the following passed in as the appId:

  flutter attach --app-id dev.kingu.iosAppRunOnMac
  flutter attach --app-id dev.kingu.iosAppRunOnMac (2)
```

ã‚¢ãƒ—ãƒªã‚’ä¸€æ—¦ kill ã™ã‚Œã°å›é¿ã§ãã¾ã™ãŒã€é¢å€’ãªã®ã§`--app-id`ã‚’æŒ‡å®šã—ã¦ãŠãã¨æ¥½ã§ã™ã€‚

## Hot reload ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“

![primarySwatchã‚’å¤‰ãˆã¦Hot reload](https://storage.googleapis.com/zenn-user-upload/a537f60ae553-20230415.gif)

## ã§ã¯æœ¬é¡Œã§ã™

ã¤ã¾ã‚Šã€iOS ã‚¢ãƒ—ãƒªã‚’ macOS ã§å®Ÿè¡Œã§ãã‚‹ã®ã§ã€iOS ã—ã‹å¯¾å¿œã—ã¦ã„ãªã„ SDK ã‚’ macOS ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---

Google ãƒãƒƒãƒ—ã§å±‹å†…åœ°å›³ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚Œã°è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã¯ã”å­˜çŸ¥ã‹ã¨æ€ã„ã¾ã™ã€‚
[ä¾‹ãˆã°æ±äº¬é§…ã®åœ°ä¸‹ 1 éš - https://goo.gl/maps/PSokGrc6hKb7NouR7](https://goo.gl/maps/PSokGrc6hKb7NouR7)

ä¸€æ–¹ã§å±‹å†…åœ°å›³ã‚’ãªã‚“ã‚‰ã‹ã®ã‚¢ãƒ—ãƒªã«çµ„ã¿è¾¼ã‚“ã§åˆ©ç”¨ã—ãŸã„å ´åˆã¯ SDK ãŒå¿…è¦ã§ã™ã€‚
ã“ã‚Œã¯ iOS ã‚„ Android ã§ã¯[Google Maps SDK](https://developers.google.com/maps/documentation/ios-sdk/reference/interface_g_m_s_indoor_building) ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ãŒã€PC ã§ã¯åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚

PC ã§ã¯[Maps JavaScript API](https://developers.google.com/maps/documentation/javascript?hl=ja)ã®åˆ©ç”¨ãŒæƒ³å®šã•ã‚Œã¦ã„ã‚‹ã®ã ã¨æ€ã„ã¾ã™ãŒã€æ®‹å¿µãªã“ã¨ã«å±‹å†…åœ°å›³ã¯å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚
ï¼ˆGoogle Maps SDK ã§å±‹å†…åœ°å›³ãŒåˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦å°‘ãªãã¨ã‚‚ 5 å¹´ä»¥ä¸Šã¯çµŒã£ãŸã¨æ€ã„ã¾ã™ãŒã€æœªã ã« JS ç‰ˆã§ã¯åˆ©ç”¨ã§ããªã„ã§ã™...ï¼‰

---

```dart
class MyApp extends StatelessWidget {
  const MyApp({
    super.key,
  });

  @override
  Widget build(BuildContext context) {
    return const MaterialApp(
      home: Scaffold(
        body: GoogleMap(
          initialCameraPosition: CameraPosition(
            target: LatLng(35.68123837837174, 139.76700609632644), // æ±äº¬é§…
            zoom: 21,
          ),
          indoorViewEnabled: true,
        ),
      ),
    );
  }
}
```

![æ±äº¬é§…ã®åœ°ä¸‹1éšã®åœ°å›³](https://storage.googleapis.com/zenn-user-upload/ac152fb503b2-20230415.png)

**_ãªã‚“ã¨ã„ã†ã“ã¨ã§ã—ã‚‡ã†ã€‚_**
macOS ã‚¢ãƒ—ãƒªã§å±‹å†…åœ°å›³ãŒè¡¨ç¤ºã§ãã¾ã—ãŸã€‚
ï¼ˆãƒ¬ãƒã‚¸ãƒˆãƒªã¯[ã“ã¡ã‚‰](https://github.com/KoheiKanagu/ios_app_run_on_mac)ï¼‰

## ã¾ã¨ã‚

Flutter ã§ä½œã£ãŸ iOS ã‚¢ãƒ—ãƒªã‚’ macOS ã§å®Ÿè¡Œã§ãã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€(å…¨ã¦ã§ã¯ãªã„ã§ã—ã‚‡ã†ãŒ)iOS å‘ã‘ã® SDK ã‚’ macOS ã§åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
